#import "./fragments/_price_range.graphql"
#import "./fragments/_configurable_options.graphql"
#import "./fragments/_product_reviews.graphql"
query ProductQuery($filters: ProductAttributeFilterInput) {
  products(filter: $filters) {
    items {
      uid
      description {
        html
      }

      image {
        url
      }

      thumbnail {
        id: url
        url
        label
      }
      media_gallery {
        disabled
        label
        url
        position
      }
      meta_description
      meta_title
      canonical_url
      meta_keyword
      name
      price_range {
        ...price_range
      }
      rating_summary
      review_count
      reviews {
        ...reviews
      }
      sku
      stock_status
      short_description {
        html
      }
      url_key
      ... on DownloadableProduct {
        downloadable_product_links {
          price
          sample_url
          sort_order
          title
          uid
        }
      }
      ... on GroupedProduct {
        items {
          position
          product {
            name
            url_key
            image {
              url
            }
            sku
            price_range {
              ...price_range
            }
          }
          qty
        }
      }
      ... on BundleProduct {
        items {
          uid
          sku
          type
          title
          option_id
          options {
            label
            position
            product {
              name
              url_key
              image {
                url
              }
              price_range {
                ...price_range
              }
            }
            price
            price_type
            quantity
            id
            uid
          }
        }
      }
      ... on ConfigurableProduct {
        configurable_options {
          ...configurable_options
        }
        variants {
          ...variants
        }
      }
    }
  }
}
